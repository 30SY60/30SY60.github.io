const termList = document.querySelectorAll('.term-list li');
const modal = document.getElementById('definition-modal');
const defTitle = document.getElementById('def-title');
const defContent = document.getElementById('def-content');

// ğŸ”¸ ì§ì ‘ ë“±ë¡í•œ ìš©ì–´ ì„¤ëª…
const definitions = {
  "PER": "ì£¼ê°€ìˆ˜ìµë¹„ìœ¨(PER)ì€ ì£¼ì‹ ê°€ê²©ì´ íšŒì‚¬ê°€ ë²„ëŠ” ëˆì— ë¹„í•´ ë¹„ì‹¼ì§€ ì‹¼ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” ìˆ«ìì•¼.\
          ì˜ˆë¥¼ ë“¤ì–´, PERì´ 10ì´ë©´ ì‚¬ëŒë“¤ì´ ê·¸ íšŒì‚¬ ì£¼ì‹ì„ ì‚´ ë•Œ, íšŒì‚¬ê°€ 1ë…„ ë™ì•ˆ ë²„ëŠ” ëˆì˜ 10ë°° ê°’ì„ ì£¼ê³  ì‚°ë‹¤ëŠ” ëœ»ì´ì•¼.\
          PERì´ ë†’ìœ¼ë©´ 'ì´ íšŒì‚¬ ì£¼ì‹ì€ ì¢€ ë¹„ì‹¼ê°€?' í•˜ê³  ìƒê°í•  ìˆ˜ ìˆì–´.\
          PERì´ ë‚®ìœ¼ë©´ 'ì´ íšŒì‚¬ ì£¼ì‹ì€ ì‹¸ë„¤!'ë¼ê³  ëŠë‚„ ìˆ˜ ìˆì§€.\
          í•˜ì§€ë§Œ ì‹¸ë‹¤ê³  ë¬´ì¡°ê±´ ì¢‹ì€ ê±´ ì•„ë‹ˆê³ , íšŒì‚¬ì˜ ì„±ì¥ ê°€ëŠ¥ì„±ë„ í•¨ê»˜ ë´ì•¼ í•´!",
  "PBR": "PBRì€ íšŒì‚¬ì˜ ì§„ì§œ ê°€ì§„ ë¬¼ê±´(ìì‚°)ê³¼ ì£¼ì‹ ê°€ê²©ì„ ë¹„êµí•œ ê±°ì•¼.\
          ì˜ˆë¥¼ ë“¤ì–´, PBRì´ 1ì´ë©´ íšŒì‚¬ê°€ ê°€ì§„ ê°€ì¹˜ë‘ ì£¼ì‹ ê°€ê²©ì´ ë¹„ìŠ·í•˜ë‹¤ëŠ” ëœ»ì´ì•¼.\
          PBRì´ ë†’ìœ¼ë©´ 'ì¢€ ë¹„ì‹¸ê²Œ íŒ”ë¦¬ê³  ìˆë„¤?' ìƒê°í•  ìˆ˜ ìˆì–´.\
          PBRì´ ë‚®ìœ¼ë©´ 'ì‹¸ê²Œ ì‚´ ìˆ˜ ìˆë‚˜?' ì‹¶ì§€ë§Œ ì´ìœ ëŠ” ì˜ ì‚´í´ë´ì•¼ í•´.\
          ê·¸ íšŒì‚¬ê°€ ì˜ë  ê°€ëŠ¥ì„±ì´ ìˆëŠ”ì§€ë„ í•¨ê»˜ ë´ì•¼ í•´!",
  "ì‹œê°€ì´ì•¡": "ì‹œê°€ì´ì•¡ì€ íšŒì‚¬ ì „ì²´ì˜ ê°’ì„ ë§í•´.\
              ê·¸ íšŒì‚¬ ì£¼ì‹ ê°€ê²©ì— ì£¼ì‹ ìˆ˜ë¥¼ ê³±í•˜ë©´ ë‚˜ì™€!\
              ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ê³¼ 1ê°œê°€ 1,000ì›ì¸ë° 100ê°œ ìˆìœ¼ë©´ ì´ 10ë§Œ ì›ì´ê² ì§€?\
              ê·¸ëŸ° ì‹ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ” ê±°ì•¼.\
              ì‹œê°€ì´ì•¡ì´ í¬ë©´ í° íšŒì‚¬, ì‘ìœ¼ë©´ ì‘ì€ íšŒì‚¬ì•¼.",
  "ROE": "ROEëŠ” íšŒì‚¬ê°€ ì£¼ì¸ì˜ ëˆìœ¼ë¡œ ì–¼ë§ˆë‚˜ ëˆì„ ì˜ ë²Œì—ˆëŠ”ì§€ ë³´ì—¬ì£¼ëŠ” ìˆ«ìì•¼.\
          ì‰½ê²Œ ë§í•´, ë‚´ê°€ 100ì›ì„ ë§¡ê²¼ëŠ”ë° íšŒì‚¬ê°€ 10ì›ì„ ë²Œì—ˆë‹¤ë©´ ROEëŠ” 10%ì•¼.\
          ROEê°€ ë†’ìœ¼ë©´ 'ì™€! ì¼ ì˜í•˜ë„¤!'ë¼ê³  ë³¼ ìˆ˜ ìˆì–´.\
          ë‚®ìœ¼ë©´ 'ìŒâ€¦ ëˆ ë²„ëŠ” ì‹¤ë ¥ì´ ì•½í•˜ë„¤?'ë¼ê³  í•  ìˆ˜ ìˆì§€.\
          ê·¸ë˜ì„œ íˆ¬ìí•  ë•Œ ë§ì´ ë³´ëŠ” ìˆ«ìì•¼!",
  "ë°°ë‹¹ìˆ˜ìµë¥ ": "ë°°ë‹¹ìˆ˜ìµë¥ ì€ íšŒì‚¬ê°€ ì£¼ì£¼ì—ê²Œ ì–¼ë§ˆë‚˜ ëˆì„ ë‚˜ëˆ ì£¼ëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ê±°ì•¼.\
                ì˜ˆë¥¼ ë“¤ì–´, ì£¼ì‹ì´ 10,000ì›ì¸ë° 500ì›ì„ ì¤€ë‹¤ë©´ ë°°ë‹¹ìˆ˜ìµë¥ ì€ 5%ì•¼.\
                ì´ ìˆ«ìê°€ ë†’ìœ¼ë©´ ì£¼ì‹ ì‚¬ë©´ ëˆì´ ë§ì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ì§€.\
                í•˜ì§€ë§Œ ë°°ë‹¹ì´ ë§ë‹¤ê³  í•­ìƒ ì¢‹ì€ íšŒì‚¬ëŠ” ì•„ë‹ ìˆ˜ë„ ìˆì–´.\
                íšŒì‚¬ì˜ ì „ì²´ ìƒíƒœë„ í•¨ê»˜ ë³´ëŠ” ê²Œ ì¤‘ìš”í•´!"
};

termList.forEach(li => {
  li.addEventListener('click', () => {
    const term = li.getAttribute('data-term');

    if (definitions[term]) {
      // ë“±ë¡ëœ ì„¤ëª…ì´ ìˆëŠ” ê²½ìš°
      defTitle.textContent = term;
      defContent.textContent = definitions[term];
      modal.style.display = 'block';
    } else {
      // ë“±ë¡ëœ ì„¤ëª…ì´ ì—†ìœ¼ë©´ ìœ„í‚¤í”¼ë””ì•„ API í˜¸ì¶œ
      fetch(`https://ko.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(term)}`)
        .then(res => res.json())
        .then(data => {
          defTitle.textContent = data.title || term;
          defContent.textContent = data.extract || 'ì„¤ëª…ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
          modal.style.display = 'block';
        })
        .catch(() => {
          defTitle.textContent = term;
          defContent.textContent = 'ì„¤ëª…ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.';
          modal.style.display = 'block';
        });
    }
  });
});

function closeDefModal() {
  modal.style.display = 'none';
}